import{f as _,gP as M,gQ as O,gR as N,ep as k,gS as A,gT as g,gU as R,gV as p,gW as W,gX as $,gY as o,G as h,gZ as F,g_ as C,g$ as G,h0 as I,cL as S}from"./index-B7QNv2P_.js";const H=new _(M),i=new _(O),c=new _(N);new _(k);function q(s){const u=P.get(s);if(u)return u;let n=H;if(s)if(s===i)n=i;else if(s===c)n=c;else{const l=s.wkid,e=s.latestWkid;if(l!=null||e!=null)A(l)||A(e)?n=i:(g(l)||g(e))&&(n=c);else{const a=s.wkt2??s.wkt;if(a){const r=a.toUpperCase();r===U?n=i:r===m&&(n=c)}}}return P.set(s,n),n}const P=new Map,U=i.wkt.toUpperCase(),m=c.wkt.toUpperCase();function T(s,u,n){const l=Math.sin(s),e=Math.cos(s),a=Math.sin(u),r=Math.cos(u),t=n;return t[0]=-l,t[4]=-a*e,t[8]=r*e,t[12]=0,t[1]=e,t[5]=-a*l,t[9]=r*l,t[13]=0,t[2]=0,t[6]=r,t[10]=a,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function d(s,u,n){return T(s,u,n),R(n,n),n}function x(s,u,n,l){if(s==null||l==null)return!1;const e=p(s,W),a=p(l,$);if(e===a&&!w(a)&&(e!==o.UNKNOWN||h(s,l)))return F(n,u),!0;if(w(a)){const r=C[e][o.LON_LAT],t=C[o.LON_LAT][a];return r!=null&&t!=null&&(r(u,0,E,0),t(E,0,f,0),T(L*E[0],L*E[1],n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}if((a===o.WEB_MERCATOR||a===o.PLATE_CARREE||a===o.WGS84)&&(e===o.WGS84||e===o.CGCS2000&&a===o.PLATE_CARREE||e===o.SPHERICAL_ECEF||e===o.WEB_MERCATOR)){const r=C[e][o.LON_LAT],t=C[o.LON_LAT][a];return r!=null&&t!=null&&(r(u,0,E,0),t(E,0,f,0),e===o.SPHERICAL_ECEF?d(L*E[0],L*E[1],n):G(n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}return!1}function w(s){return s===o.SPHERICAL_ECEF||s===o.SPHERICAL_MARS_PCPF||s===o.SPHERICAL_MOON_PCPF}const L=I(1),E=S(),f=S();export{x as R,q as a};
